\section{Introduction}

From their earliest days, computers have successfully been used in mathematics
to perform complicated or tedious calculations more reliably, or at all, to make
tables, to prove theorems (famously the four colour theorem), to explore new
theories.

With computers and open source software becoming widely, and cheaply, available
to everyone, the last decades have seen the emergence of open-source tools to
conduct research; the spectrum ranges from special purpose libraries such as
\MPIR or \Linbox, over topical systems such as \Singular, to general purpose
systems that feature a complete programming language and environmen such as
\GAP or \Sage.
These open-source systems are sometimes in direct competition with
(semi-)commerical systems (MAGMA, Mathematica, MatLab...).

There is also undeniable value in these software packages for teaching and
collaborative work.

The big problem with the multitude of systems with different communities,
developers and focuses is that they do not compose well. To have any hope of
using a specialist software inside one's own system one has to understand the
conventions and internals of the library sufficiently to write a bespoke
interface, translate data and representations of objects. This is tedious, time
consuming and error-prone.

There needs to be a standard to connect systems, but a standard requires a
critical mass of supporters, and ease of use, and availability.


A partial success is \Sage, a free general purpose open-source mathematics
software system licensed under the GPL whose mission is to create a
viable free open source alternative to Magma, Maple, Mathematica and
Matlab. It has been developed since 2005 by a growing worldwide community of
about 150 researchers and teachers. It builds on top of many existing
open-source packages, including NumPy, SciPy, matplotlib, Sympy,
Maxima, and the aforementioned ones, all accessible from a
Python-based library containing itself many unique mathematical
features.
Thanks to this, \Sage is regularly used in universities, both for
research and education purposes.

We propose to establish the Math-In-The-Middle approach as described in
\ednote{CICM paper?} based on MMT as the base for exchanging mathematical
objects/meaning/etc.

The goal of the seminar is to 
\begin{itemize}
\item Bring together developers of (open source) mathematics software
  components, and logicians and knowledge representation experts.
\item Get an overview of the current trends and developments in open source
  mathematics software
\item Promote MMT/MathInTheMiddle
\item Train mathematicians in the art of MMT, and get an idea of how MMT will be
  used by developers of domain specific software.
\item Share perspectives and best practices, build a joint vision, and
  seek venues for tighter cooperation.
\item Encourage participants to get involved in the standardisation process.
\end{itemize}





\begin{oldpart}{This is from a thematically but not formally related workshoop proposal. Some text may be reusable.}

The main goal of the seminar is:
\begin{itemize}
\item Bringing together the various communities of users and
  developers of the ecosystem of (open source) (pure) mathematics
  software.
\item Give newcomers as well as experts an overview of this ecosystem:
  what the existing software systems are, what they can compute or solve, how
  they are developed and by whom, what the success stories and
  difficulties are.
\item Train newcomers as well as experts on using this ecosystem to
  solve their own problems.
\item Share perspectives and best practices, build a joint vision, and
  seek venues for tighter cooperation.
\item Encourage participants to get involved, especially
  women and more junior researchers, in particular by showcasing role models.
\end{itemize}


\subsection{The ecosystem of open-source mathematical software}

From their earliest days, computers have been used in pure
mathematics, either to make tables, to prove theorems (famously the
four colour theorem) or, as with the astronomer's telescope, to
explore new theories. Computer-aided experiments, and the use of
databases relying on computer calculations such as the Small Groups
Library in GAP, the Modular Atlas in group and representation theory,
or the $L$-functions and Modular Forms Database (\LMFDB, see later),
are part of the standard toolbox of the pure mathematician, and
certain areas of mathematics completely depend on it. Computers are
also increasingly used to support collaborative work and education.

The last decades witnessed the emergence of a wide ecosystem of
open-source tools to support research in pure mathematics. This ranges
from specialized to general purpose computational tools such as \GAP,
\PariGP, \Linbox, \MPIR, \Sage, or \Singular, via online databases
like the \LMFDB and does not count online services like Wikipedia,
\Arxiv, or MathOverflow. A great opportunity is the rapid emergence of
key technologies, and in particular the \Jupyter (previously \IPython)
platform for interactive and exploratory computing which targets all
areas of science. This has proven the viability and power of
collaborative open-source development models, by users and for users,
even for delivering general purpose systems targeting a large public
(researchers, teachers, engineers, amateurs, \ldots).

An exemplary success in the last decade is that of \Sage,
a free general purpose open-source mathematics
software system licensed under the GPL whose mission is to create a
viable free open source alternative to Magma, Maple, Mathematica and
Matlab. It has been developed since 2005 by a growing worldwide community of
about 150 researchers and teachers. It builds on top of many existing
open-source packages, including NumPy, SciPy, matplotlib, Sympy,
Maxima, and the aforementioned ones, all accessible from a
Python-based library containing itself many unique mathematical
features. \Sage can also be used as batch program, through the
\Jupyter interactive computing interface (command-line or graphical),
or \href{cloud.sagemath.org}{on the cloud}.

Thanks to this, \Sage is regularly used in universities, both for
research and education pruposes.  An indicator of its success in the French
system is that \Sage has been since 2014 in the shortlist of official
software for the oral examinations of the Agrégation de Mathématiques
(the nation-wide recruiting competition for high school teachers), and
that since 2015 this list has been containing only open source software.

\subsection{Upcoming challenges}

Some of the upcoming major challenges are:
\begin{itemize}
\item Lower the entry barrier, in particular via \textbf{unified user
    interfaces}, and \textbf{Virtual Research Environments} that
  groups of users can setup to collaborate on data, software,
  computations, or knowledge;
\item Further enable \textbf{computations involving multiple systems},
  as transparently as possible;
\item Keep the development efforts manageable as the size and
  complexity of software systems increase;
\item Train a new generation of users and developers.
\end{itemize}

A key step is to strengthen collaborations \emph{between} the various
communities, in order to:
\begin{itemize}
\item Seek for opportunities for collaboration or outsourcing of
  components to save on development efforts;
\item Share expertise and best practices;
\item Improve cross-systems development workflows.
\end{itemize}

\subsection{Goals: community building and training}

The conference goals can be summarized as follows:

\begin{itemize}
\item Bringing together the community of users and developers of the
  ecosystem of (open source) (pure) mathematics software;
\item Give newcomers as well as specialists an overview of this
  ecosystem: what are the existing software systems, what sorts of
  problems can be solved thanks to them, how they are developped and
  by whom;
\item Train a new generation of users (and the current generations as
  well) on using this ecosystem to solve their own problems;
\item Encourage people to get involved and contribute, especially
  women and junior researchers, in particular by exposing them with role models;
\item Share perspectives and best practices;
\item Build a joint vision and
  seek venues for tighter cooperation.
\end{itemize}

\subsection{Public and prerequisites}

According to the above objectives, the public is meant to be diverse:
\begin{itemize}
\item Newcomers, and especially \textbf{graduate students and young
    researchers}, that need to train themselves with computational
  tools for their teaching or research;
\item More advanced users that want to get an overview on the
  ecosystem or benefit from expert advice;
\item Contributors of the different systems of various levels of
  expertise that want to share their knowledge, learn more, and
  participate to coding sprints, in particular on cross-system
  features.
\end{itemize}

It's to be expected that most participants will have a strong
background in pure mathematics or computer science, although
engineers, teachers, or researchers in neighboring fields (e.g. physics)
having a need for computational mathematics tools will be
welcome.

Generally speaking there will be little prerequisites besides a strong
desire to learn, get one's hands dirty, work in team, and possibly get
involved. It's expected also that the participants will come with
their own laptops. The software will be available either for direct
installation or for remote usage through the web.

\subsection{A cofunding opportunity: OpenDreamKit}

\href{http://opendreamkit.org}{OpenDreamKit} is a Horizon 2020
European Research Infrastructure project (\#676541) funded under the
H2020-EINFRA-2015-1 call, that is running for four years, starting in
September 2015. It will provide substantial funding to the open source
computational mathematics ecosystem, and in particular popular tools
such as \Linbox, \MPIR, \Sage, \GAP, \Pari/GP, \LMFDB, \Singular,
\MathHub, and the \IPython/\Jupyter interactive computing environment.

From this ecosystem, \ODK will deliver a flexible toolkit enabling
research groups to set up Virtual Research Environments, customised to
meet the varied needs of research projects in pure mathematics and
applications, and supporting the full research life-cycle from
exploration, through proof and publication, to archival and sharing of
data and code.

The \ODK  consortium consists of core European developers of the
aforementioned systems for pure mathematics, and extending toward the
numerical community, and in particular the \Jupyter  community, to work
together on joint needs.

\textbf{Community building, dissemination and training is at the heart of \ODK}. From the
beginning of the design of the proposal, back in 2014 (during ALEA
2014 at CIRM!), it was planned to fund yearly large meetings to reach
out to the larger community, disseminate the outcome, and train new
users and developers. Besides CIRM in 2018, we are aiming for meetings
in Dagstuhl, and ICMS (Edimburgh).

% Yet some critical long term investments, in particular on the
% technical side, are in order to boost the productivity and lower the
% entry barrier:

\subsection{The \Sage Days tradition}

The success of any research software or service is strongly linked to
its ability to attract and retain a large number of users. The
different communities (\Sage, \GAP, \Pari, \Singular, \Jupyter, ...)
have each developed sustainable networks. For example, \Sage has
accumulated thousands of users in under 10 years.

This has been achieved thanks to a very strong community building
philosophy, especially through the organization of
“\href{https://wiki.sagemath.org/Workshops}{\Sage Days}” all over the
world. The first \Sage Days was held in 2006 with 10 participants; to
date there has been at least 77 of them, including about ten in
2015. Those workshops are typically week-long and cover a wide
variety of topics, ranging from focused workshops gathering a dozen
developers for coding sprints on specific mathematical or technical
features to training workshops with more than 80 people. To cite just
a few of the recent or upcoming ones:

\begin{itemize}
\item \Sage Education Days 6 (June 16-18, 2014, University of
  Washington, Seattle)
\item \Sage Days 69 (September 4-9, 2015, San Diego): Women in Sage 6
\item \Sage Days 73 (May 04-07, 2016, Oaxaca (Mexico)): Translation surfaces
\item \Sage Days 77 (April 04-08, 2016. Cernay, Paris area, France):
  Packaging, portability, documentation tools
\item \Sage Days 79 (November 21-25, Jerusalem, Israel): Combinatorics
\end{itemize}

All those workshops have in common to be highly hands on, with lots of
room for tutorials and collaborative work, and a strong dynamic
(project sessions, status reports, ...) to get everyone involved.

\subsection{Previous \Sage Days at CIRM}

One particularly successful workshop,
\href{https://www.lirmm.fr/arith/wiki/MathInfo2010/SageDays}{\Sage
  Days 20}, was organized at CIRM in 2010, at the occasion of the
thematic month
\href{https://www.lirmm.fr/arith/wiki/MathInfo2010/}{Math-Info}. This
workshop had a double focus on training and research. It was one of
the largest \Sage Days, with about 80 participants, many of which
became at this occasion regular \Sage users, if not contributors. One
of the many outcome was a strong initial impetus to what was to become
the first book about \Sage: \href{http://sagebook.gforge.inria.fr/}{Calcul Mathématique avec
Sage}, in French and under an open
source license. Also a lot of training material was written during the
workshop and reused extensively in followup workshops; a large chunk
of this material was integrated in the \Sage official documentation in
the form of thematic tutorials.

The commodities at CIRM turned out just right for the purpose, and
since then the proposers have wished to organize another one.

\subsection{Composition of the committees, invited speakers, and gender issues}

All the members of the Organization and Scientific committees have a
strong experience with \Sage Days or similar events. For example,
Nicolas Thiéry attended 20+ \Sage Days, was main organizer or
coorganizer of more than a dozen of them, and invited speaker in many
of the others, including that at CIRM. They are also involved in the
OpenDreamKit project and present a variety of perspectives.

Alas, our field suffers very badly from the lack of gender parity (5
to 10\% of female researchers). Despite our best efforts this is reflected by the
composition of the committees.

We have focused on showcasing female role models in the keynote
speakers (Marie Françoise Roy and Anne Schilling and we are seeking
for another one), and for maintaining a proper ratio among tutorial
leaders. We will also take measures to attract and promote female
participants, and in particular PhD students and Postdocs.

\subsection{Joint dynamics with JNCF 2018 (or ALEA 2018)}

The communities involved in open source mathematical software are
strong in Europe. There is in particular a strong overlap with the
French Computer Algebra community. We are therefore coordinating the
organization of this conference with the ``Journées Nationales du
Calcul Formel 2018'', in the hope to organize them one right after the
other. This will encourage participants to attend both events, reduce
travel costs, and strongly increase the international attractiveness.

In case this turns out to not be possible, there is also a good
overlap with the ALEA community, and it would be fruitful to organize
this event next to ALEA 2018.

\subsection{Hands-on tutorials}

We will reserve 6-8 slots for hands-on tutorial on the various
software of the ecosystem. Each tutorial will be delivered by experts
(typically one leader and several helpers). After a brief overview,
the participants will be guided through a collection of exercise
worksheets, designed to accommodate various levels of expertise.  The
participants will be able to keep working on them after the tutorials,
with informal help from the experts whenever needed.

Many such worksheets have been crafted over time at the occasion of
previous such meetings (including several of
\href{http://doc.sagemath.org/html/en/thematic_tutorials/}{Sage's
  thematic tutorials}). This workshop will be the occasion to polish them,
design new ones, and possibly submit some to become
\href{http://software-carpentry.org/lessons/}{Software Carpentry lessons}.

Here are some tentative titles:
\begin{itemize}
\item Software installation
\item Jupyter notebooks and reproducible research
\item Introduction to GAP
\item Introduction to Linbox
\item Introduction to Mathemagix
\item Introduction to PARI/GP
\item Introduction to Sage
\item Introduction to Singular
\item Introduction to XCas
\item Programming in Python
\item Collaborative software development (git, ...)
\end{itemize}

\subsection{Round tables and special event for teaching}

We are considering the organization of a few round tables to run
debates and discussions on topics such as:

\begin{itemize}
\item Women in open source mathematics software (tentatively led by
  Marie-Françoise Roy);
\item Development models, best practices, and funding for open source
  mathematics software development;
\item Software for teaching;
\item ...
\end{itemize}

We will also reach toward local high-school, \textit{classes préparatoires},
and university teachers and, pending enough interest, organize one
half-day event focused on teaching (as in the previous \Sage Days at
CIRM).

\subsection{Collaborative work and coding sprints}

A lot of free time will be reserved each day, especially at the end of
the week, for collaborative work. To support the self-organization of
this time, there will be regular plenary discussions where
participants will briefly expose the projects they want to work on and
call for collaborators. Typical projects will be of the form:
\begin{itemize}
\item I would like to train myself further on XXX by going through
  worksheet YYY; who would like to join?
\item I would like to learn more about XXX; who else would be
  interested? Who could deliver a tutorial?
\item For my research, I am writing a program that XXX; I would need
  expert help on using YYY for this.
\item We want to add feature XXX to YYY; who wants to join?
\end{itemize}

A list of projects, and related progress report, will be maintained on
the conference web page (typically through a wiki). Participants will
be able to start suggesting projects in the months before the conference,
and keep adding more during the conference.
\end{oldpart}

\begin{oldpart}{This is from a successful Dagstuhl proposal on integrating proof systems. The structure may be reusable.}
This application proposes a meeting bringing together researchers
working in computational logics and automated formal proof.
In Section 6.1, we give an overview on the seminar topics and on the
different current approaches. Then,  Section 6.2 describes the goals of the seminar.

\section{Description of the Seminar}

\subsection{Topics of the seminar}

Proof systems are programs that allow a user to build formal proofs either
interactively or automatically. Building such a formal proof is
always difficult. For instance the Feit-Thompson odd order theorem,
the CompCert verified C compiler, the seL4 verified operating system
micro-kernel and the proof of the Kepler conjecture, required several
years of medium to large teams to be completed. 

A formal proof is defined as a package (disseminated in different
files or modules) containing one or more theories defining the
objects or concepts required to express the statement to be proved,
the statement and a proof presented as a proof term, a list of proof
commands or a structured text according to the proof system. Generally
the proof requires intermediate lemmas or sub-proofs. 
%not happy with next sentence
In this seminar we focus on proof systems that provide means to verify
the produced proofs (e.g. by type-checking proof terms or applying
correct proof rules). 

Usually a formal proof is developed in one logical formalism, with
one specific proof systems, it may even be specific to one particular
version of a proof system. The choice of a proof system
can be guided by a deep scientific reason (e.g. the underlying
logics), a development strategy (e.g. extraction of code or not) or
the available surrounding management tools  (e.g. conjecture checkers,
automatic decision procedures). Some sub-proofs can be delegated to
automatic provers like SAT/SMT solvers, this is largely used in
Isabelle or proof platforms such as Why3. In that case, the question
of the validity of the whole proof quickly arises. Different solutions
are then proposed  to recover confidence over all parts of the proofs:
the automatic prover produces a proof that can be checked or it
provides some information that allow another tool to reconstruct a proof in the main host proof system.

%To be precised. Does someone have the precise information ?
%Kepler conjecture: Isabelle and HOL or just HOL ?
This use of automatic provers can be considered as a first step to 
multi-formalisms formal proofs guided by the purpose of obtaining more
automation. Another important objective to go through multi-formalisms
formal proofs is reuse: reusing a theory, a proof, a proof schema done
in another context (logics or proof system) in a formal proof, thus allowing
\emph{off-the-shelf} formal components, \emph{proving in the large} and 
\emph{interoperability} of theories and proofs, quoting software 
engineering techniques. It is a real challenge the formal proof
community is currently working on with different
objectives, approaches and efforts. Many partial answers in several
directions exist. 

Porting formal proofs between theorem provers can be
carried out manually or with the help of a (semi-)automatic
translation using for example an 
intermediate XML language  (Isabelle/HOL to ACL2 -
Aransay et al. 2012)  or an external tool (HOL to Coq - Denney 2000). 
%\footnote{do we cite properly the papers or is it enough like that ?}
 %Isabelle/HOL-> ACL2- J. Aransay 2012 - 
Different point to point translations have been proposed allowing
 porting of specifications, proof statements and/or proofs, with a
 deep or shallow embedding, filling the gap between two proof
 systems. Relying on the Coq reflection,  Keller and Werner proposed a
 translation both able to restore theorems meanings in Coq and give a
 small proof of them. However these translations, in particular shallow embeddings,  can be difficult if not impossible if the two proof
 systems use very different foundations.
A particular effort has been brought on the interoperability of
 higher order logic based proof systems with  the design of the OpenTheory format (Hurd - 2011). It allows HOL Light, HOL4 and
 ProofPower to share specifications and proofs. In this context,  
interoperability is achieved as soon as a theory in one of these proof
 systems uses only the standard theory library in OpenTheory
 format. A large research effort over the last two decades concerns
 logical frameworks and meta-languages that provide a solid basis
for representing, implementing, and reasoning about a wide variety of
deductive systems. LF (Harper, Honsell and Plotkin 1993), Twelf
 (Pfenning and Schuermann 1999), Beluga (Pientka and Dunfield 2010),
 Dedukti (Cousineau and Dowek 2007), MMT (Rabe 2013) are such logical frameworks in where many formalisms can be defined.  When systems are defined in a given logical framework, they are embedded in a same meta-formalism,
 e.g. the lambda-calculus with dependent types, and thus proofs in
 those systems can be studied or assembled. Frameworks like MMT
 feature transformation operators to go from a logic to
 another. Dedukti is not only a logical framework but also a checker
 for proofs coming from some automated theorem provers
(e.g. Zenon, iProver) and some proof assistants (Coq, Matita, HOL and
 FoCaliZe). But in practice, current
 frameworks do not scale well and usually interact poorly with
 proof systems developed outside the logical framework. Furthermore as
 for point to point translations, logical frameworks and mea-languages
 have been designed with different purposes and often guided by
 application domains and special circumstances.   

Achieving a better interoperability between proof systems also  
 relies on techniques that adapt and package together existing
 formalizations, inside a given proof system. Most of proof systems
 provide modularity, inheritance, parametrization or  refinement to
 help reusing a formal development. However it is not always
 sufficient because we may need to change a representation, pick some
 elements here and there or extend an open inductive types. Solutions
 have been proposed to provide some flexibility, e.g.,  features {\em \`a la
 carte} (Delaware 2013) for formal proofs about language
 meta-theory. However there is no
overarching, general foundation and methodology. 

%, we are still   However, some partial answers exist:
%for instance point to point translations, standard proof formats, and logical
%frameworks have been developed by researchers in different
%communities. 
%These efforts heavily rely on techniques that adapt and package together
%existing formalizations. While some systematic solutions exist here (for example,
%modules, traits, features, and inheritance), there is no overarching
%general foundation and methodology. 
%

The previous mentioned approaches clearly bring altogether some
progress  to the problem of   making proof assistants interoperate. We
believe that bringing together experts in the above topics,  
to exchange experiences and insights, will be fruitful.


\subsection{Goals of the seminar}

Conference, seminars, etc. often focus on the exchange of ideas. It is
of course one of the goals of our proposed semainar, in particular
brushing a precise state-of-the-art of the above topics. 
However our goals go beyond that: we wold like to develop a common
objective of universality that can unify the communities. In the long run, this requires designing uniform conceptualizations, interchange formats, and interoperability layers.
Therefore, \textbf{the goal of this seminar is to systematically identify the current obstacles to universality, to collect requirements for universality, and to sketch out future solutions}.

\paragraph{Research Questions}
% checking dependency theories
% identification of assumptions: extensionnality, choice, proof
% irrelevance etc
% tools for packaging, maintenaning
Participants will be asked to give short talks that specifically address the following research questions from the perspective of their field:

\begin{itemize}
\item Why are current systems not more interoperable? What design changes are necessary to increase interoperability in the future?
\item What are the current approaches towards interoperability? How successful or promising are they?
\item How can correctness be guaranteed in a distributed setting?
 Should there be a single universal checker (which would be hard to agree on) or many decentral ones (which may preclude interoperability)?
\item How can we design interchange languages that naturally subsume
  existing (and future!) formal systems?
\item Should a logical framework permit the definition of any logical system?
Or do the logics currently implemented have points in common that could
be hard wired into the framework itself?
\item How reasonnable is it to propose a single universal proof format?
Or do we need different formats for different families of
proof systems and a partial interoperability between the formats?
 How should a proof format be evaluated (generality, conciseness,
efficiency of proof-checking, ...)?
\item How should universal proof library be exchanged? Is Web technology
sufficient or do we need specific tools to organize data bases of
proofs?
\item How can we practically and reliably relate individual systems with their representation in an interchange format or a logical framework?
How can two systems agree on the meaning of an exchanged theorem and thus trust each other?
\end{itemize}

\paragraph{Impact on the Research Community}
By challenging participants to address research questions concerning
universality, we do not only raise awareness of the importance of these issues.
We also help identify the key steps towards \emph{proving in the large} and  \emph{universality} of proofs.
This will allow the development of a common objective and framework for interoperable and reusable proof development that is crucial for realizing the full potential of formal mechanizations.

This seminar with the associated Dagstuhl proceedings will provide an overview of the problem, the state of the art of current solutions and the active researchers pursuing them, and the most promising ideas for future solutions.
It will collect and strengthen the small, often-disparate communities that currently work towards universality, e.g., in the very different PxTP (Proof eXchange for Theorem Proving) and LFMTP (dedicated to logical frameworks and meta-languages) workshops.

The seminar will not only allow for cross-fertilization between
 \begin{compactitem}
  \item research on logical frameworks, proof formats, logics, proof engineering, mathematics formalization, and program verification,
  \item foundational research on these topics and application or system-oriented approaches.
 \end{compactitem}
It will also structure and streamline future collaboration, e.g., by kicking off new workshops or large international grant proposals.
\end{oldpart}